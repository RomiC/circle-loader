(function(a){function n(b,a){var e=document.createElementNS("http://www.w3.org/2000/svg",b);for(i in a)e.setAttribute(i,a[i]);return e}function q(b,l){function e(){f=(f+c.angleStep)%360;var a=180<f,b=(a?f%180:f)/180*Math.PI,d=(a?-1:1)*h*Math.sin(b),b=h*(1+(a?1:-1)*Math.cos(b));m.setAttribute("d","M"+k.x+","+k.y+"a"+h+","+h+",0,"+(a?1:0)+",1,"+d+","+b);0===g&&(g=setInterval(e,p))}var d=Math.min(a(b).width(),a(b).height()),c=l;"string"===typeof c.strokeWidth&&(-1!==c.strokeWidth.search(/\%$/ig)?c.strokeWidth=
Math.round(parseInt(c.strokeWidth)/100*d):c.strokeWidth=parseInt(c.strokeWidth));var k={x:d/2,y:c.strokeWidth/2},f=1,h=Math.round((d-c.strokeWidth)/2),m=n("path",{fill:"none",stroke:c.stroke,"stroke-width":c.strokeWidth}),g=0,p=Math.round(5/360*c.duration);this.Start=function(){g=setInterval(e,p)};this.Stop=function(){clearInterval(g);m.setAttribute("d","M"+k.x+","+k.y);f=1};this.Pause=function(){clearInterval(g)};b.appendChild(n("svg",{height:d,style:"overflow: hidden; position: relative;",version:"1.1",
width:d,xmlns:"http://www.w3.org/2000/svg"}));a("svg",b)[0].appendChild(m);!0===c.autostart&&e()}var l={stroke:"#F00",strokeWidth:"20%",duration:7E3,autostart:!0,angleStep:2};a.fn.circleLoader=function(b){a.extend(l,b);return this.map(function(){return new q(this,l)})}})(jQuery);
